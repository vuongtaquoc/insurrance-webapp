<div class="page-container">
  <nz-spin [nzSpinning]="isSpinning">
    <div class="page-regime-approval" [ngClass]="{'page-regime-approval--hidden': isHiddenSidebar}" cardFullHeight>
      <nz-tabset nzSize="small" nzTabPosition="bottom" [nzSelectedIndex]="selectedTabIndex" [nzAnimated]="false" [nzTabBarExtraContent]="extraTemplate" (nzSelectChange)="handleSelectTab($event)">
        <nz-tab nzTitle="Danh mục tài liệu">

        </nz-tab>

        <nz-tab nzTitle="Ốm đau">
          <app-sicknesses
            [data]="regimeApproval.origin['630a']"
            (onChange)="handleTableChange($event, 'sicknesses')"
            (onHiddenSidebar)="handleHiddenSidebar($event)"
          ></app-sicknesses>
        </nz-tab>

        <nz-tab nzTitle="Thai sản">
          <app-maternity
            [data]="regimeApproval.origin['630b']"
            (onChange)="handleTableChange($event, 'maternity')"
            (onHiddenSidebar)="handleHiddenSidebar($event)"
          ></app-maternity>
        </nz-tab>

        <nz-tab nzTitle="Sức khỏe">
          <app-health-recovery
            [data]="regimeApproval.origin['630c']"
            (onChange)="handleTableChange($event, 'healthRecovery')"
            (onHiddenSidebar)="handleHiddenSidebar($event)"
          ></app-health-recovery>
        </nz-tab>
      </nz-tabset>
      <ng-template #extraTemplate>
        <div class="page-regime-approval__footer">
          <button nz-button nzType="default" nzSize="small" (click)="emitEventToChild('save')">
            <i nz-icon nzType="export"></i>Xuất tờ khai
          </button>
          <button nz-button nzType="default" nzSize="small" (click)="save('save')">
            <i nz-icon nzType="save"></i>Ghi lại
          </button>
          <button nz-button nzType="default" nzSize="small" (click)="emitEventToChild('save')">
            <i nz-icon nzType="rollback"></i>Quay lại
          </button>
        </div>
      </ng-template>
      <app-regime-approval-form class="page-regime-approval__form" [ngClass]="{'page-regime-approval__form--hidden': selectedTabIndex == 0}" (onFormValuesChanged)="handleFormValuesChanged($event)"></app-regime-approval-form>
    </div><!-- page-regime-approval -->
  </nz-spin>
</div>
